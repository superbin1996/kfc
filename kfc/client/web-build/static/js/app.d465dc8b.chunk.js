(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{188:function(e,t,n){"use strict";n.r(t);var i=n(11),r=n.n(i),o=n(5),l=n.n(o),s=n(0),c=n.n(s),a=n(271),d=n(265),u=n(184),f=n(24),h=n.n(f),j=n(2),g=n(33),b=n(17),O=n(4),m=n(8),x=n(21),y=n(272),w=n(1);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}("kfc"),S={windowWidth:x.default.get("window").width,windowHeight:x.default.get("window").height,token:C,host:"",baseURL:"/api/v1/"},I=c.a.createContext(),W=function(e){var t=e.children,n=Object(s.useState)(S),i=l()(n,2),r=i[0],o=i[1];function c(){o(v(v({},r),{},{windowWidth:x.default.get("window").width,windowHeight:x.default.get("window").height}))}Object(s.useEffect)((function(){return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[]);var a=m.default.create({homeContainer:{width:r.windowWidth>1e3?1e3:r.windowWidth,paddingLeft:r.windowWidth>1e3?"auto":5,paddingRight:r.windowWidth>1e3?"auto":5,paddingTop:5,height:r.windowHeight-100,marginTop:10,marginLeft:"auto",marginRight:"auto",borderWidth:1,minHeight:r.windowHeight-100,height:"auto"},homeCategories:{flexDirection:"row",borderWidth:1,justifyContent:"space-around",marginTop:10},homeCategory:{flexDirection:"column",justifyContent:"center",alignItems:"center",width:.2*r.windowWidth,maxWidth:200,height:.1*r.windowWidth,maxHeight:200,borderColor:"lightblue",borderWidth:1,borderRadius:10},homeCategoryChosen:{flexDirection:"column",justifyContent:"center",alignItems:"center",width:.2*r.windowWidth,height:.1*r.windowWidth,borderWidth:2,borderColor:"orange",borderRadius:8},homeSingleItemCategory:{width:.2*r.windowWidth,maxWidth:200,height:.2*r.windowWidth,maxHeight:200,borderColor:"lightblue",borderWidth:1,borderRadius:10},homeSingleItemCategoryChosen:{borderWidth:2,borderRadius:8,width:.2*r.windowWidth,height:.2*r.windowWidth,borderColor:"orange"},homeFoodListCover:{marginTop:10},homeFoodList:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},dishContainer:{borderWidth:1,width:.32*r.windowWidth,height:"fit-content",paddingLeft:r.windowWidth>1e3?"2.5%":.033*r.windowWidth,paddingRight:r.windowWidth>1e3?"2.5%":.033*r.windowWidth,maxWidth:.9*r.windowWidth/2>240?240:.9*r.windowWidth/2,flexDirection:"column",flexGrow:1,marginBottom:20},dishName:{overflow:"hidden",wordWrap:"break-word",hyphens:"auto",width:"100%",height:18,fontSize:14},dishImageContainer:{width:"100%",aspectRatio:1},DishImage:{flexGrow:1,borderRadius:10,borderColor:"red",borderWidth:1,borderRadius:10,marginRight:10,resizeMode:"stretch",minHeight:50,width:"100%",height:"100%"},dishInfo:{},dishInfoHide:{borderWidth:1,borderColor:"yellowBlanchedAlmond",height:r.windowWidth>1e3?.04*r.windowWidth:.15*r.windowWidth,maxHeight:60,overflow:"hidden",wordWrap:"break-word",textOverflow:"ellipsis",hyphens:"auto"},dishInfoShow:{borderWidth:1,borderColor:"yellowBlanchedAlmond",minHeight:r.windowWidth>1e3?.04*r.windowWidth:.15*r.windowWidth},customBtn:{marginTop:8,alignSelf:"center",width:"70%",height:25,borderWidth:2,borderColor:"rgba(var(--b6a, 219, 219, 219), 1)"},customOrder:{width:"100%"},customName:{fontStyle:"italic",fontSize:"1.333333333333333em",color:"black",fontWeight:"bold",wordWrap:"break-word"},customList:{},dealImageContainer:{width:r.windowWidth,height:.45*r.windowWidth},dealImage:{width:"100%",aspectRatio:2,resizeMode:"stretch"}}),d=y.default.create({baseURL:r.baseURL}),u=y.default.create({baseURL:r.baseURL});return u.interceptors.request.use((function(e){return e.headers.common.Authorization="Token "+C,e}),(function(e){return Promise.reject(e)})),Object(w.jsx)(I.Provider,{value:v(v({},r),{},{style:a,customAxios:d,authFetch:u,changeImagePath:function(e){var t=""+r.host;return(e||"").includes(t)?e:t+e}}),children:t})},T=function(){return Object(s.useContext)(I)},D=function(e){var t=T().style,n=e.category,i=e.setShowSingleItems,r=e.categoryChosen,o=e.setCategoryChosen;return Object(w.jsx)(b.default,{onPress:function(){o(n.id),i(!1)},style:r===n.id?t.homeCategoryChosen:t.homeCategory,children:Object(w.jsx)(O.default,{children:n.field.replace("combo-","").toUpperCase()})})},P=n(35),R=function(e){var t=T(),n=t.style,i=t.changeImagePath,r=e.singleItemCategory,o=e.categoryChosen,l=e.setCategoryChosen;return Object(w.jsx)(b.default,{onPress:function(){l(r.id)},children:Object(w.jsx)(P.default,{source:{uri:i(r.image_url)},style:r.id===o?n.homeSingleItemCategoryChosen:n.homeSingleItemCategory})})},E=function(e){var t=T().style,n=e.categories,i=e.categoryChosen,r=e.setCategoryChosen;return Object(w.jsx)(j.default,{style:t.homeCategories,children:n.filter((function(e){return function(e){if(!0===Boolean(e.field.startsWith("singleItems-")))return e}(e)})).map((function(e){return Object(w.jsx)(R,{singleItemCategory:e,categoryChosen:i,setCategoryChosen:r},e.id)}))})},k=n(105),z=n(16),A=n.n(z),B=n(28),H=function(e){var t,n,i,r=e.categoryDish,o=T(),c=o.style,a=o.customAxios,d=o.changeImagePath,u=Object(B.useNavigation)(),f=Object(s.useState)([]),h=l()(f,2),g=h[0],m=h[1],x=Object(s.useState)({}),y=l()(x,2),p=y[0],v=y[1],C=Object(s.useState)(!1),S=l()(C,2),I=S[0],W=S[1],D=Object(s.useState)(!1),R=l()(D,2),E=R[0],z=R[1],H=Object(s.useState)(!0),N=l()(H,2),L=N[0],F=N[1];function _(e){var t="";try{for(var n=0;n<e.length;n+=1)t+="/"+e[n].name}finally{return"/"==t[0]?t.substr(1,t.length):t}}function V(){u.navigate("Custom",{images:g,categoryDish:r,dishItems:p})}return Object(s.useEffect)((function(){W(!0),function(e){["singleItems-desserts-drinks","singleItems-snacks"].includes(e.category__field)&&z(!0)}(r);var e="item_images/"+r.id+"/";a(e).then((function(e){return e.data})).then((function(e){m(e)}));var t="dish_items/"+r.id+"/";a(t).then((function(e){return e.data})).then((function(e){v(e)})).finally((function(){W(!1)}))}),[]),I?Object(w.jsx)(j.default,{style:c.homeFoodContainer,children:Object(w.jsx)(O.default,{children:"Data is loading..."})}):Object(w.jsxs)(j.default,{style:c.dishContainer,children:[Object(w.jsx)(b.default,{style:c.dishImageContainer,onPress:V,children:Object(w.jsx)(P.default,{style:c.DishImage,source:function(){var e;return e=void 0===g||0===g.length?"":g[0].image_url,{uri:d(e)}}()})}),Object(w.jsxs)(j.default,{children:[Object(w.jsx)(O.default,{numberOfLines:1,style:c.dishName,children:r.name}),Object(w.jsx)(O.default,{children:r.price})]}),Object(w.jsxs)(j.default,{style:L?c.dishInfo:[c.dishInfo,{height:"fit-content"}],children:[E||Object(w.jsxs)(j.default,{style:L?c.dishInfoHide:c.dishInfoShow,children:[null==(t=p.selections)?void 0:t.filter((function(e){return"singleItems-desserts-drinks"!=e.default.category__field})).map((function(e,t){return Object(w.jsx)(O.default,{children:_(e.choices)},t)})),null==(n=p.singleItems)?void 0:n.map((function(e,t){return Object(w.jsx)(O.default,{children:e.name},t)})),null==(i=p.selections)?void 0:i.filter((function(e){return"singleItems-desserts-drinks"==e.default.category__field})).map((function(e,t){return Object(w.jsx)(O.default,{children:e.default.name},t)}))]}),Object(w.jsx)(b.default,{style:{alignSelf:"center"},onPress:function(){return F(!L)},children:Object(w.jsx)(k.BiDownArrow,{name:"keyboard-arrow-down",size:24,color:"black",style:L?{transform:"rotate(0deg)",transitionDuration:"500ms"}:{transform:"rotate(180deg)",transitionDuration:"500ms"}})}),Object(w.jsx)(b.default,{style:c.customBtn,onPress:V,children:Object(w.jsx)(O.default,{style:{color:"green",textAlign:"center"},children:"Cumtom"})}),Object(w.jsx)(b.default,{style:c.customBtn,onPress:function(){var e;try{var t,n=null==(t=p.selections)?void 0:t.map((function(e){return e.default})),i=p.singleItems;e=[].concat(A()(n),A()(i))}finally{u.navigate("Cart",{dish:{id:Date.now(),categoryDish:r,itemsChosen:e,dishItems:p,images:g,price:r.price,amount:1}})}},children:Object(w.jsx)(O.default,{style:{color:"green",textAlign:"center"},children:"Order"})})]})]})},N=function(e){var t=T().style,n=e.categoryDishes;return Object(w.jsxs)(j.default,{style:t.homeFoodListCover,children:[Object(w.jsx)(k.BiDownArrowCircle,{size:24,color:"blue",style:{marginLeft:"auto",marginRight:"auto"}}),Object(w.jsx)(j.default,{style:{marginTop:10},children:Object(w.jsx)(j.default,{style:t.homeFoodList,children:n.map((function(e){return Object(w.jsx)(H,{categoryDish:e},e.id)}))})})]})},L=function(){var e=T(),t=e.style,n=e.customAxios,i=Object(s.useState)([]),r=l()(i,2),o=r[0],c=r[1],a=Object(s.useState)([]),d=l()(a,2),u=d[0],f=d[1],g=Object(s.useState)(0),m=l()(g,2),x=m[0],y=m[1],p=Object(s.useState)(!1),v=l()(p,2),C=v[0],S=v[1];var I=function(){var e=h()((function*(){var e=(yield n("get_categories/")).data;c(e),function(e){new Promise((function(t,n){var i=e.find((function(e){return e.field.startsWith("combo-")}));i?t(i):n(Error("There are no combo categoreis"))})).then((function(e){y(e.id)})).catch((function(e){})),console.log()}(e)}));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){I()}),[]),Object(s.useEffect)((function(){0!==x&&n("category_items/"+x).then((function(e){return e.data})).then((function(e){f(e)}))}),[x]),Object(w.jsxs)(j.default,{style:{width:"100%"},children:[Object(w.jsxs)(j.default,{style:[t.homeCategories,{alignContent:"stretch"}],children:[o.filter((function(e){return function(e){if(!0===Boolean(e.field.startsWith("combo-")))return e}(e)})).map((function(e){return Object(w.jsx)(D,{category:e,setShowSingleItems:S,categoryChosen:x,setCategoryChosen:y},e.id)})),Object(w.jsx)(b.default,{onPress:function(){S(!0),new Promise((function(e,t){var n=o.find((function(e){return e.field.startsWith("singleItems-")}));n?e(n):t(Error("There are no combo categoreis"))})).then((function(e){y(e.id)})).catch((function(e){}))},style:C?t.homeCategoryChosen:t.homeCategory,children:Object(w.jsx)(O.default,{children:"SINGLE ITEMS"})})]}),C&&Object(w.jsx)(E,{categories:o,categoryChosen:x,setCategoryChosen:y}),Object(w.jsx)(N,{categoryDishes:u})]})};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=c.a.createContext(),G=function(e){var t=e.children,n=x.default.get("window").width>1e3?1e3:x.default.get("window").width,i={windowWidth:n,windowHeight:.4*n},r=Object(s.useState)(i),o=l()(r,2),c=o[0],a=o[1];function d(){var e=x.default.get("window").width>1e3?1e3:x.default.get("window").width,t=.4*n;a(_(_({},c),{},{windowWidth:e,windowHeight:t}))}Object(s.useEffect)((function(){return window.addEventListener("resize",d),function(){window.removeEventListener("resize",d)}}),[]);var u=m.default.create({container:{maxHheight:300,borderWidth:2,borderColor:"violet"},scroll:{height:"100%",maxHheight:300},imageContainer:{width:c.windowWidth,aspectRatio:2},image:{width:"100%",height:"100%",resizeMode:"stretch"},pagination:{position:"absolute",bottom:0,flexDirection:"row",alignSelf:"center"},dots:{color:"white",margin:3,fontSize:c.windowWidth/30},dotActive:{color:"green",margin:3,fontSize:c.windowWidth/30}});return Object(w.jsx)(V.Provider,{value:_(_({},c),{},{style:u}),children:t})},M=function(e){var t=T().changeImagePath,n=e.deals,i=Object(s.useContext)(V),r=i.style,o=i.windowWidth,c=Object(B.useNavigation)(),a=Object(s.useState)(0),d=l()(a,2),u=d[0],f=d[1],h=Object(s.useRef)(),m=null;function x(){u===n.length-1?h.current.scrollTo({x:0,animated:!0}):h.current.scrollTo({x:o*(u+1),animated:!0})}return Object(s.useEffect)((function(){return m=setTimeout(x,2e3),function(){return clearTimeout(m)}})),Object(w.jsxs)(j.default,{style:r.container,children:[Object(w.jsx)(g.default,{ref:h,style:r.scroll,pagingEnabled:!0,horizontal:!0,showsHorizontalScrollIndicator:!1,onScroll:function(e){var t=Math.round(e.nativeEvent.contentOffset.x/o);u!==t&&f(t)},scrollEventThrottle:o,onScrollBeginDrag:function(){clearTimeout(m)},onScrollEndDrag:function(){m=setTimeout(m,5e3)},overScrollMode:"never",children:n.map((function(e){return Object(w.jsx)(b.default,{style:r.imageContainer,onPress:function(){return function(e){c.navigate("Deals",{deal:e})}(e)},children:Object(w.jsx)(P.default,{source:{uri:t(e.image_url)},style:r.image})},e.id)}))}),Object(w.jsx)(j.default,{style:r.pagination,children:n.map((function(e,t){return Object(w.jsx)(O.default,{style:t===u?r.dotActive:r.dots,children:"\u2b24"},t)}))})]})},U=c.a.createContext(),J=function(e){var t=e.navigation,n=T(),i=n.style,r=n.customAxios,o=Object(s.useState)([]),c=l()(o,2),a=c[0],d=c[1],u=function(){var e=h()((function*(){var e=(yield r("get_deals/")).data;d(e)}));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){u()}),[]),Object(w.jsx)(U.Provider,{value:{},children:Object(w.jsxs)(g.default,{style:i.homeContainer,showsVerticalScrollIndicator:!1,children:[Object(w.jsx)(j.default,{children:Object(w.jsx)(G,{children:Object(w.jsx)(M,{deals:a})})}),Object(w.jsx)(L,{navigation:t})]})})},K=function(e){e.navigation;var t=e.route,n=T(),i=n.style,r=n.changeImagePath,o=t.params.deal;return Object(s.useEffect)((function(){console.log("deal",o)}),[]),Object(w.jsxs)(g.default,{showsVerticalScrollIndicator:!1,children:[Object(w.jsx)(O.default,{children:o.title}),Object(w.jsx)(O.default,{children:o.description}),Object(w.jsx)(O.default,{children:o.hashtag}),Object(w.jsx)(j.default,{style:i.dealImageContainer,children:Object(w.jsx)(P.default,{style:i.dealImage,source:{uri:r(o.image_url)}})})]})},Y=n(45),q=n(262),X=function(e){var t=T(),n=t.style,i=t.changeImagePath,r=e.selection,o=e.choice,l=e.chosen,s=e.itemsChosen,c=e.setItemsChosen;function a(){var e=JSON.parse(JSON.stringify(s)),t=null==e?void 0:e.filter((function(e){return e.selectionId!=o.selectionId})),n=null==e?void 0:e.filter((function(e){return e.selectionId==o.selectionId}));try{n.shift(),n.push(o)}finally{c([].concat(A()(t),A()(n)))}}return Object(w.jsx)(j.default,{style:n.dishContainer,children:o.image__image?Object(w.jsxs)(b.default,{onPress:a,children:[Object(w.jsx)(j.default,{style:n.dishImageContainer,children:Object(w.jsx)(P.default,{style:n.DishImage,source:i(o.image__image_url)})}),Object(w.jsxs)(j.default,{children:[Object(w.jsx)(O.default,{numberOfLines:1,style:{width:"100%",maxHeight:18,fontSize:14},children:o.name}),Object(w.jsxs)(j.default,{style:{flexDirection:"row"},children:[l.includes(o.id)?Object(w.jsx)(q.default,{name:"check",size:24,color:"green"}):Object(w.jsx)(q.default,{name:"check",size:24,color:"black"}),r.default.id==o.id?Object(w.jsx)(O.default,{children:"Included"}):Object(w.jsx)(O.default,{children:o.price-r.default.price>0?"+"+(o.price-r.default.price)+"\u0111":"+0\u0111"})]}),1!=r.default.amount&&Object(w.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(w.jsx)(b.default,{onPress:function(){var e=JSON.parse(JSON.stringify(s));if(o.id!=r.default.id&&o.selectionId==r.default.selectionId){var t=null==e?void 0:e.find((function(e){return JSON.stringify(e)==JSON.stringify(o)})),n=e.indexOf(t);try{e.splice(n,1),e.push(r.default)}finally{c(A()(e))}}},children:Object(w.jsx)(O.default,{children:"\u2296"})}),Object(w.jsx)(O.default,{style:{marginLeft:5,marginRight:5},children:(null==l?void 0:l.filter((function(e){return e==o.id}))).length}),Object(w.jsx)(b.default,{onPress:a,children:Object(w.jsx)(O.default,{children:"\u2295"})})]})]})]}):Object(w.jsxs)(b.default,{onPress:a,style:{flexDirection:"row"},children:[l.includes(o.id)?Object(w.jsx)(q.default,{name:"check",size:24,color:"green"}):Object(w.jsx)(q.default,{name:"check",size:24,color:"black"}),Object(w.jsx)(O.default,{numberOfLines:3,children:o.name})]})})},Z=function(e){var t,n=e.selection,i=e.itemsChosen,r=e.setItemsChosen,o=Object(s.useState)([]),c=l()(o,2),a=c[0],d=c[1];return Object(s.useEffect)((function(){var e=null==i?void 0:i.filter((function(e){return e.selectionId==n.default.selectionId})).map((function(e){return e.id}));d(e)}),[i]),Object(w.jsx)(j.default,{style:{flexDirection:"row",flexWrap:"wrap"},children:null==(t=n.choices)?void 0:t.map((function(e){return Object(w.jsx)(X,{selection:n,choice:e,chosen:a,setChosen:d,itemsChosen:i,setItemsChosen:r},e.id)}))})};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=c.a.createContext(),te=function(e){var t=e.children,n=x.default.get("window").width>1e3?1e3:x.default.get("window").width,i={windowWidth:n,windowHeight:.4*n},r=Object(s.useState)(i),o=l()(r,2),c=o[0],a=o[1];function d(){var e=x.default.get("window").width>1e3?1e3:x.default.get("window").width,t=.4*n;a($($({},c),{},{windowWidth:e,windowHeight:t}))}Object(s.useEffect)((function(){return window.addEventListener("resize",d),function(){window.removeEventListener("resize",d)}}),[]);var u=m.default.create({container:{maxHheight:300,borderWidth:2,borderColor:"violet"},scroll:{height:"100%",maxHheight:300},imageContainer:{width:c.windowWidth,aspectRatio:2},image:{width:"100%",height:"100%",resizeMode:"stretch"},pagination:{position:"absolute",bottom:0,flexDirection:"row",alignSelf:"center"},dots:{color:"white",margin:3,fontSize:c.windowWidth/30},dotActive:{color:"green",margin:3,fontSize:c.windowWidth/30}});return Object(w.jsx)(ee.Provider,{value:$($({},c),{},{style:u}),children:t})},ne=function(e){var t=e.imageArray,n=T().changeImagePath,i=Object(s.useContext)(ee),r=i.style,o=i.windowWidth,c=Object(s.useState)(0),a=l()(c,2),d=a[0],u=a[1],f=Object(s.useRef)(),h=null;function b(){d===t.length-1?f.current.scrollTo({x:0,animated:!0}):f.current.scrollTo({x:o*(d+1),animated:!0})}return Object(s.useEffect)((function(){return h=setTimeout(b,2e3),function(){return clearTimeout(h)}})),Object(w.jsxs)(j.default,{style:r.container,children:[Object(w.jsx)(g.default,{ref:f,style:r.scroll,pagingEnabled:!0,horizontal:!0,showsHorizontalScrollIndicator:!1,onScroll:function(e){var t=Math.round(e.nativeEvent.contentOffset.x/o);d!==t&&u(t)},scrollEventThrottle:o,onScrollBeginDrag:function(){clearTimeout(h)},onScrollEndDrag:function(){h=setTimeout(h,5e3)},overScrollMode:"never",children:null==t?void 0:t.map((function(e,t){return Object(w.jsx)(j.default,{style:r.imageContainer,children:Object(w.jsx)(P.default,{source:{uri:n(e)},style:r.image})},t)}))}),Object(w.jsx)(j.default,{style:r.pagination,children:null==t?void 0:t.map((function(e,t){return Object(w.jsx)(O.default,{style:t===d?r.dotActive:r.dots,children:"\u2b24"},t)}))})]})},ie=c.a.createContext(),re=function(e){var t,n,i,r=e.navigation,o=e.route,c=T(),a=c.style,d=c.changeImagePath,u=o.params,f=u.images,h=u.categoryDish,m=u.dishItems,x=Object(s.useState)([]),y=l()(x,2),p=y[0],v=y[1],C=Object(s.useState)(1),S=l()(C,2),I=S[0],W=S[1],D=Object(s.useState)([]),P=l()(D,2),R=P[0],E=P[1],k=Object(s.useState)(0),z=l()(k,2),B=z[0],H=z[1];return Object(s.useEffect)((function(){var e=f.map((function(e){return d(e.image_url)}));v(e)}),[f]),Object(s.useEffect)((function(){var e,t=null==(e=m.selections)?void 0:e.map((function(e){return e.default})),n=m.singleItems;try{var i=null==t?void 0:t.find((function(e){return e.amount>1}));if(void 0!==i)for(var r=0;r<i.amount-1;r+=1)t.push(i)}finally{E([].concat(A()(t.sort()),A()(n)))}}),[m]),Object(s.useEffect)((function(){var e=null==h?void 0:h.price;try{null==R||R.map((function(t){Object.keys(t).includes("due")&&(e+=t.due)}))}finally{H(e)}}),[R,h]),Object(w.jsx)(ie.Provider,{value:{setItemsChosen:E,itemsChosen:R},children:Object(w.jsxs)(g.default,{style:a.homeContainer,showsVerticalScrollIndicator:!1,children:[Object(w.jsxs)(j.default,{style:a.orderTotal,children:[Object(w.jsx)(te,{children:Object(w.jsx)(ne,{imageArray:p})}),Object(w.jsxs)(j.default,{children:[Object(w.jsxs)(O.default,{style:a.customName,children:[I,"X ",h.name.toUpperCase()]}),Object(w.jsx)(j.default,{children:R.map((function(e,t){return Object(w.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(w.jsxs)(O.default,{style:{flexGrow:1},children:["\u30fb",e.name]}),Object(w.jsxs)(O.default,{children:["+",e.due||0," \u0111"]})]},t)}))}),Object(w.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(w.jsxs)(j.default,{style:{flexDirection:"row",flexGrow:1},children:[Object(w.jsx)(b.default,{onPress:function(){I>1&&W(I-1)},children:Object(w.jsx)(O.default,{style:{transform:"scale(1.5)"},children:"\u2296"})}),Object(w.jsx)(Y.default,{value:I,onChangeText:W,style:{width:30,fontSize:18,paddingLeft:5,paddingRight:5}}),Object(w.jsx)(b.default,{onPress:function(){W(I+1)},children:Object(w.jsx)(O.default,{style:{transform:"scale(1.5)"},children:"\u2295"})})]}),Object(w.jsx)(O.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,alignSelf:"center"},children:I*B})]})]}),Object(w.jsxs)(j.default,{children:[Object(w.jsxs)(j.default,{style:{flexDirection:"row",paddingTop:10},children:[Object(w.jsx)(O.default,{style:{flexGrow:1,fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600},children:"ORDER TOTAL"}),Object(w.jsx)(O.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,color:"red"},children:I*B})]}),Object(w.jsxs)(j.default,{children:[Object(w.jsx)(b.default,{style:a.customBtn,onPress:function(){r.goBack(),r.navigate("Cart",{dish:{id:Date.now(),categoryDish:h,itemsChosen:R,dishItems:m,images:f,price:B,amount:I}})},children:Object(w.jsx)(O.default,{style:{color:"green",textAlign:"center",borderRadius:5},children:"ADD TO CART"})}),Object(w.jsx)(b.default,{style:a.customBtn,onPress:function(){r.goBack()},children:Object(w.jsx)(O.default,{style:{color:"green",textAlign:"center",borderRadius:5},children:"BACK TO MENU"})})]})]})]}),Object(w.jsx)(j.default,{children:Object(w.jsxs)(j.default,{children:[Object(w.jsx)(O.default,{children:h.name}),null==(t=m.selections)?void 0:t.map((function(e,t){if("singleItems-desserts-drinks"!==e.default.category__field)return Object(w.jsxs)(j.default,{children:[Object(w.jsx)(O.default,{children:"SELECT 1 IN OPTIONS BELOW"}),Object(w.jsx)(Z,{selection:e,itemsChosen:R,setItemsChosen:E})]},t)})),null==(n=m.singleItems)?void 0:n.map((function(e){return Object(w.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(w.jsx)(q.default,{name:"check",size:24,color:"green"}),Object(w.jsx)(O.default,{children:e.name})]},e.id)})),Object(w.jsxs)(j.default,{children:[Object(w.jsx)(O.default,{children:"UP SIZE DESSERTS DRINKS"}),null==(i=m.selections)?void 0:i.map((function(e,t){if("singleItems-desserts-drinks"===e.default.category__field)return Object(w.jsx)(Z,{selection:e,itemsChosen:R,setItemsChosen:E},t)}))]})]})})]})})},oe=c.a.createContext(),le=function(e){var t,n,i,r=e.navigation,o=e.route,c=T(),a=c.style,d=c.changeImagePath,u=o.params.order,f=Object(s.useState)([]),h=l()(f,2),m=h[0],x=h[1],y=Object(s.useState)(1),p=l()(y,2),v=p[0],C=p[1],S=Object(s.useState)([]),I=l()(S,2),W=I[0],D=I[1],P=Object(s.useState)(0),R=l()(P,2),E=R[0],k=R[1];return Object(s.useEffect)((function(){console.log(u.images);var e=u.images.map((function(e){return d(e.image_url)}));x(e),console.log("singleItems",u.dishItems.singleItems),D(u.itemsChosen),k(u.price),C(u.amount)}),[u]),Object(s.useEffect)((function(){var e=null==u?void 0:u.categoryDish.price;try{null==W||W.map((function(t){Object.keys(t).includes("due")&&(e+=t.due)}))}finally{k(e)}}),[W,u]),null==u?Object(w.jsx)(j.default,{children:Object(w.jsx)(O.default,{children:"Loading..."})}):Object(w.jsxs)(oe.Provider,{value:{setItemsChosen:D,itemsChosen:W},children:[console.log("itemsChosen",W),Object(w.jsxs)(g.default,{style:a.homeContainer,showsVerticalScrollIndicator:!1,children:[Object(w.jsxs)(j.default,{style:a.orderAmount,children:[Object(w.jsx)(te,{children:Object(w.jsx)(ne,{imageArray:m})}),Object(w.jsxs)(j.default,{children:[Object(w.jsxs)(O.default,{style:a.customName,children:[v,"X ",u.categoryDish.name.toUpperCase()]}),Object(w.jsx)(j.default,{children:W.map((function(e,t){return Object(w.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(w.jsxs)(O.default,{style:{flexGrow:1},children:["\u30fb",e.name]}),Object(w.jsxs)(O.default,{children:["+",e.due||0]})]},t)}))}),Object(w.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(w.jsxs)(j.default,{style:{flexDirection:"row",flexGrow:1},children:[Object(w.jsx)(b.default,{onPress:function(){v>1&&C(v-1)},children:Object(w.jsx)(O.default,{style:{transform:"scale(1.5)"},children:"\u2296"})}),Object(w.jsx)(Y.default,{value:v,onChangeText:C,style:{width:30,fontSize:18,paddingLeft:5,paddingRight:5}}),Object(w.jsx)(b.default,{onPress:function(){C(v+1)},children:Object(w.jsx)(O.default,{style:{transform:"scale(1.5)"},children:"\u2295"})})]}),Object(w.jsx)(O.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,alignSelf:"center"},children:v*E})]})]}),Object(w.jsxs)(j.default,{children:[Object(w.jsxs)(j.default,{style:{flexDirection:"row",paddingTop:10},children:[Object(w.jsx)(O.default,{style:{flexGrow:1,fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600},children:"ORDER TOTAL"}),Object(w.jsx)(O.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,color:"red"},children:v*E})]}),Object(w.jsxs)(j.default,{children:[Object(w.jsxs)(j.default,{children:[Object(w.jsx)(b.default,{style:a.customBtn,onPress:function(){r.goBack(),r.navigate("Cart",{dish:{id:u.id,categoryDish:u.categoryDish,itemsChosen:W,dishItems:u.dishItems,images:u.images,price:E,amount:v}})},children:Object(w.jsx)(O.default,{style:{color:"green",textAlign:"center"},children:"UPDATE CART"})}),Object(w.jsx)(b.default,{style:a.customBtn,onPress:function(){r.navigate("Home")},children:Object(w.jsx)(O.default,{style:{color:"green",textAlign:"center"},children:"ADD MORE COMBO"})})]}),Object(w.jsx)(b.default,{style:a.customBtn,onPress:function(){r.goBack()},children:Object(w.jsx)(O.default,{style:{color:"green",textAlign:"center"},children:"BACK TO CART"})})]})]})]}),Object(w.jsxs)(j.default,{children:[Object(w.jsxs)(j.default,{children:[Object(w.jsx)(O.default,{children:u.categoryDish.name}),null==(t=u.dishItems.selections)?void 0:t.map((function(e,t){if("singleItems-desserts-drinks"!==e.default.category__field)return Object(w.jsxs)(j.default,{children:[Object(w.jsx)(O.default,{children:"SELECT 1 IN OPTIONS BELOW"}),Object(w.jsx)(Z,{selection:e,itemsChosen:W,setItemsChosen:D})]},t)})),null==(n=u.dishItems.singleItems)?void 0:n.map((function(e,t){return Object(w.jsxs)(j.default,{children:[Object(w.jsx)(q.default,{name:"check",size:24,color:"green"}),Object(w.jsx)(O.default,{children:e.name})]},e.id)})),Object(w.jsxs)(j.default,{children:[Object(w.jsx)(O.default,{children:"UP SIZE DESSERTS DRINKS"}),null==(i=u.dishItems.selections)?void 0:i.map((function(e,t){if("singleItems-desserts-drinks"===e.default.category__field)return Object(w.jsx)(Z,{selection:e,itemsChosen:W,setItemsChosen:D},t)}))]})]}),Object(w.jsx)(j.default,{})]})]})]})},se=n(263),ce=Object(se.default)();var ae=function(){return Object(w.jsxs)(ce.Navigator,{children:[Object(w.jsx)(ce.Screen,{name:"Home",component:J}),Object(w.jsx)(ce.Screen,{name:"Deals",component:K}),Object(w.jsx)(ce.Screen,{name:"Custom",component:re}),Object(w.jsx)(ce.Screen,{name:"EditCart",component:le})]})},de=n(275),ue=(c.a.createContext(),function(e){var t=T(),n=t.style,i=t.baseURL,r=t.customAxios,o=e.modalVisible,c=e.setModalVisible,a=e.navigation,d=e.user,u=e.setUser,f=Object(de.default)(["kfc"]),m=l()(f,3),x=m[0],y=m[1],p=m[2],v=Object(s.useState)(""),C=l()(v,2),S=C[0],I=C[1],W=Object(s.useState)(""),D=l()(W,2),P=D[0],R=D[1],E=Object(s.useState)(!1),k=l()(E,2),z=k[0],A=k[1];Object(s.useEffect)((function(){}),[x]);var B=function(e){e.preventDefault();r.post("auth/",{username:S,password:P}).then((function(e){return e.data})).then((function(e){y("kfc",e.token),y("username",S),c(!1),c(!1),r("current_user/",{headers:{Authorization:"Token "+e.token}}).then((function(e){return e.data})).then((function(e){u(e),Object.keys(e).includes("detail")||c(!1)}))}))};var H=function(){var e=h()((function*(e){e.preventDefault();var t=i+"register/";yield r.post(t,{username:S,password:P}),setTimeout((function(){B(e)}),500)}));return function(t){return e.apply(this,arguments)}}();function N(){A(!z)}return o?Object(w.jsx)(g.default,{style:n.homeContainer,showsVerticalScrollIndicator:!1,children:Object(w.jsxs)(j.default,{children:[Object(w.jsx)(Y.default,{placeholder:"Username",value:S,onChangeText:I,style:{width:fe,minHeight:50,marginBottom:5,backgroundColor:"#d0d5db"}}),Object(w.jsx)(Y.default,{secureTextEntry:!0,placeholder:"Password",value:P,onChangeText:R,style:{width:fe,minHeight:50,marginBottom:5,backgroundColor:"#d0d5db"}}),z?Object(w.jsx)(b.default,{onPress:H,style:{width:"50%",backgroundColor:"chartreuse",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:10,paddingTop:10,borderRadius:6},children:Object(w.jsx)(O.default,{style:{fontSize:16,fontWeight:500},children:"Register"})}):Object(w.jsx)(b.default,{onPress:B,style:{width:"50%",backgroundColor:"chartreuse",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:10,paddingTop:10,borderRadius:6},children:Object(w.jsx)(O.default,{style:{fontSize:16,fontWeight:500},children:"Login"})}),z?Object(w.jsx)(b.default,{onPress:N,style:{paddingTop:15},children:Object(w.jsx)(O.default,{style:{fontSize:16,fontWeight:500},children:"Already have an account? Sign in"})}):Object(w.jsx)(b.default,{onPress:N,style:{paddingTop:15},children:Object(w.jsxs)(O.default,{style:{fontSize:16,fontWeight:500},children:["Don't have an account? ",Object(w.jsx)(O.default,{style:{color:"blue"},children:"Sign up"})]})})]})}):Object(w.jsxs)(g.default,{style:n.homeContainer,showsVerticalScrollIndicator:!1,children:[Object(w.jsxs)(j.default,{children:[Object(w.jsx)(O.default,{children:"Username:"}),Object(w.jsx)(O.default,{children:d.username})]}),Object(w.jsxs)(j.default,{children:[Object(w.jsx)(O.default,{children:"Email:"}),Object(w.jsx)(O.default,{children:d.email})]}),Object(w.jsx)(b.default,{onPress:function(){a.navigate("Cart")},children:Object(w.jsx)(O.default,{children:"Transaction History"})}),Object(w.jsx)(b.default,{onPress:function(){p("kfc"),p("username"),c(!0)},style:{width:"50%",backgroundColor:"chartreuse",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:10,paddingTop:10,borderRadius:6,marginTop:5},children:Object(w.jsx)(O.default,{style:{fontSize:16,fontWeight:500},children:"Logout"})})]})}),fe=x.default.get("window").width,he=(x.default.get("window").height,m.default.create({centeredView:{},modalView:{backgroundColor:"white",borderRadius:20,height:"100%",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:20},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{width:"95%",borderRadius:5,padding:10,elevation:2},buttonOpen:{backgroundColor:"#F194FF"},buttonClose:{backgroundColor:"#2196F3"},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{flexDirection:"row",alignItems:"center",marginBottom:15,borderBottomColor:"gray",borderBottomWidth:1,width:"100%",paddingTop:20,paddingLeft:7,paddingRight:7},modalInnerText:{fontWeight:"bold",fontSize:14,flexGrow:1,textAlign:"left"},modalChoosingText:{color:"green",fontWeight:"bold",fontSize:14}}),n(83)),je=n(264),ge=function(e){var t,n,i=e.order,r=void 0===i?{}:i,o=e.orders,c=void 0===o?[]:o,a=e.setOrders,d=Object(B.useNavigation)(),u=Object(s.useState)(1),f=l()(u,2),h=f[0],g=f[1],m=Object(s.useState)(0),x=l()(m,2),y=x[0],p=x[1];return Object(s.useEffect)((function(){g(r.amount),p(r.price)}),[r]),Object(s.useEffect)((function(){if(h!=r.amount){r.amount=h;var e=c.find((function(e){return e.id==r.id})),t=c.indexOf(e),n=JSON.parse(JSON.stringify(c));try{n.splice(t,1,r)}finally{a(n)}}}),[h]),0==Object.keys(r).length?Object(w.jsx)(j.default,{children:Object(w.jsx)(O.default,{children:"There are nothing here"})}):Object(w.jsxs)(j.default,{style:{borderWidth:1,borderColor:"red"},children:[Object(w.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(w.jsx)(O.default,{style:{flexGrow:1,fontWeight:600,fontFamily:"National2Condensed",textTransform:"uppercase",marginBottom:"1rem",fontSize:26},children:null==r||null==(t=r.categoryDish)?void 0:t.name.toUpperCase()}),Object(w.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(w.jsx)(b.default,{onPress:function(){d.navigate("EditCart",{order:r})},children:Object(w.jsx)(je.default,{name:"edit",size:24,color:"black"})}),Object(w.jsx)(b.default,{onPress:function(){var e=c.filter((function(e){return e.id!=r.id}));a(e)},children:Object(w.jsx)(je.default,{name:"highlight-remove",size:24,color:"black"})})]})]}),Object(w.jsx)(j.default,{children:null==(n=r.itemsChosen)?void 0:n.map((function(e,t){return Object(w.jsxs)(O.default,{children:["\u30fb",e.name]},t)}))}),Object(w.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(w.jsxs)(j.default,{style:{flexDirection:"row",flexGrow:1},children:[Object(w.jsx)(b.default,{onPress:function(){h>1&&g(h-1)},children:Object(w.jsx)(O.default,{style:{transform:"scale(1.5)"},children:"\u2296"})}),Object(w.jsx)(Y.default,{style:{width:30,fontSize:18,paddingLeft:5,paddingRight:5},value:h,onChangeText:g}),Object(w.jsx)(b.default,{onPress:function(){g(h+1)},children:Object(w.jsx)(O.default,{style:{transform:"scale(1.5)"},children:"\u2295"})})]}),Object(w.jsx)(O.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,alignSelf:"center"},children:h*y})]})]})},be=x.default.get("window").width,Oe=x.default.get("window").height,me=m.default.create({centeredView:{},modalView:{paddingLeft:be>1e3?(be-1e3)/2:5,paddingRight:be>1e3?(be-1e3)/2:5,height:Oe,width:"100%",backgroundColor:"white",borderRadius:20,flexDirection:"column",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:20},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{width:"95%",borderRadius:5,padding:10,elevation:2},buttonOpen:{backgroundColor:"#F194FF"},buttonClose:{backgroundColor:"#2196F3"},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{flexDirection:"row",alignItems:"center",marginBottom:15,borderBottomColor:"gray",borderBottomWidth:1,width:"100%",paddingTop:20,paddingLeft:7,paddingRight:7},modalInnerText:{fontWeight:"bold",fontSize:14,flexGrow:1,textAlign:"left"},modalChoosingText:{color:"green",fontWeight:"bold",fontSize:14}}),xe=function(e){var t=e.showHistory,n=e.setShowHistory,i=T(),r=i.style,o=i.customAxios,c=i.token,a=Object(s.useState)([]),d=l()(a,2),u=d[0],f=d[1];function h(e){var t=0;try{null==e||e.map((function(e){return t+=e.price*e.amount}))}finally{return t}}return Object(s.useEffect)((function(){t&&o("order/",{headers:{Authorization:"Token "+c}}).then((function(e){return e.data})).then((function(e){f(e)}))}),[t]),0==u.length?Object(w.jsx)(he.default,{animationType:"slide",transparent:!0,visible:t,onRequestClose:function(){n(!t)},children:Object(w.jsx)(j.default,{children:Object(w.jsxs)(g.default,{showsVerticalScrollIndicator:!1,style:r.homeContainer,children:[Object(w.jsx)(O.default,{children:"You have not ordered anything"}),Object(w.jsx)(b.default,{onPress:function(){n(!t)},style:{width:be/2,backgroundColor:"green",color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:15,paddingTop:15,borderRadius:8,marginTop:20},children:Object(w.jsx)(O.default,{children:"Close Modal"})})]})})}):Object(w.jsx)(he.default,{animationType:"slide",transparent:!0,visible:t,onRequestClose:function(){n(!t)},children:Object(w.jsxs)(j.default,{style:me.modalView,children:[Object(w.jsx)(g.default,{showsVerticalScrollIndicator:!1,style:[r.homeContainer,{flexGrow:1}],children:null==u?void 0:u.map((function(e,t){return Object(w.jsxs)(j.default,{style:{borderColor:"red",borderBottomWidth:1,marginBottom:10,paddingBottom:20},children:[Object(w.jsx)(j.default,{children:e.orders.map((function(t){var n,i;return Object(w.jsxs)(j.default,{style:{paddingBottom:5},children:[Object(w.jsx)(O.default,{style:{flexGrow:1,fontWeight:600,fontFamily:"National2Condensed",textTransform:"uppercase",fontSize:26,marginBottom:10},children:null==t||null==(n=t.categoryDish)?void 0:n.name.toUpperCase()}),Object(w.jsx)(j.default,{children:null==(i=t.itemsChosen)?void 0:i.map((function(e,t){return Object(w.jsxs)(O.default,{children:["\u30fb",e.name]},t)}))}),Object(w.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(w.jsxs)(O.default,{style:{flexGrow:1},children:[e.orders.length," Items"]}),Object(w.jsx)(O.default,{children:t.amount*t.price})]})]},t.id)}))}),Object(w.jsxs)(j.default,{style:{flexDirection:"row",paddingTop:20},children:[Object(w.jsx)(O.default,{style:{flexGrow:1,fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600},children:"SUBTOTAL"}),Object(w.jsx)(O.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,color:"red"},children:h(e.orders)})]})]},t)}))}),Object(w.jsx)(b.default,{onPress:function(){n(!t)},style:{width:"100%",backgroundColor:"green",paddingBottom:15,paddingTop:15,borderRadius:8,marginTop:5,textAlign:"center"},children:Object(w.jsx)(O.default,{style:{color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase"},children:"GO BACK"})})]})})},ye=function(e){var t=e.modalVisible,n=e.navigation,i=e.route,r=e.showHistory,o=e.setShowHistory,c=i.params.dish,a=T(),d=a.style,u=a.token,f=a.customAxios,m=Object(s.useState)([]),x=l()(m,2),y=x[0],p=x[1],v=Object(s.useState)(""),C=l()(v,2),S=C[0],I=C[1],W=Object(s.useState)(""),D=l()(W,2),P=D[0],R=D[1];Object(s.useEffect)((function(){}),[u,c]);var E=function(){var e=h()((function*(){var e=null==y?void 0:y.map((function(e){return{order:e,promotion:P}})),t={orders:y,orderDetails:e};(yield f.post("order/",{data:t},{headers:{Authorization:"Token "+u}})).data;p([])}));return function(){return e.apply(this,arguments)}}();function k(){var e=0;try{null==y||y.map((function(t){return e+=t.price*t.amount}))}finally{return e}}return Object(s.useEffect)((function(){!function(){var e=y.find((function(e){return e.id==c.id}));if(void 0!=c)if(void 0===e)p([].concat(A()(y),[c]));else{var t=y.indexOf(e),n=JSON.parse(JSON.stringify(y));try{n.splice(t,1,c)}finally{p(n)}}}()}),[c]),t?Object(w.jsx)(g.default,{style:d.homeContainer,showsVerticalScrollIndicator:!1,children:Object(w.jsx)(b.default,{onPress:function(){n.navigate("Settings")},style:{width:"50%",backgroundColor:"chartreuse",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:10,paddingTop:10,borderRadius:6},children:Object(w.jsx)(O.default,{style:{fontSize:16,fontWeight:500},children:"LOGIN FIRST"})})}):0==y.length?Object(w.jsxs)(g.default,{style:d.homeContainer,showsVerticalScrollIndicator:!1,children:[Object(w.jsx)(xe,{showHistory:r,setShowHistory:o}),Object(w.jsx)(O.default,{style:{},children:"Your Cart is empty?"}),Object(w.jsx)(O.default,{children:"Making order to enjoy KFC special secret recipes"}),Object(w.jsx)(b.default,{style:{width:"50%",backgroundColor:"green",color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:15,paddingTop:15,borderRadius:8,marginTop:20},onPress:function(){n.navigate("Main")},children:Object(w.jsx)(O.default,{style:{color:"chartreuse"},children:"ORDER NOW"})}),Object(w.jsx)(b.default,{style:{width:"100%",backgroundColor:"green",color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:15,paddingTop:15,borderRadius:8,position:"fixed",bottom:0},onPress:function(){o(!0)},children:Object(w.jsx)(O.default,{style:{color:"chartreuse"},children:"ORDER HISTORY"})})]}):Object(w.jsxs)(g.default,{style:d.homeContainer,showsVerticalScrollIndicator:!1,children:[Object(w.jsx)(he.default,{animationType:"slide",transparent:!0,visible:r,onRequestClose:function(){o(!r)},children:Object(w.jsx)(xe,{showHistory:r,setShowHistory:o})}),Object(w.jsx)(O.default,{style:{backgroundColor:"rgb(182, 0, 34)",color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",width:"100%",paddingBottom:15,paddingTop:15,borderRadius:8},children:"PROCEED TO PAYMENT"}),null==y?void 0:y.map((function(e){return Object(w.jsx)(ge,{order:e,orders:y,setOrders:p},e.id)})),Object(w.jsx)(Y.default,{style:{width:we,minHeight:50,marginBottom:20,backgroundColor:"#d0d5db"},placeholder:"Notes for your order",value:S,onChangeText:I}),Object(w.jsxs)(j.default,{style:{width:"100%"},children:[Object(w.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(w.jsxs)(O.default,{style:{flexGrow:1,fontWeight:600},children:[y.length," Items"]}),Object(w.jsx)(O.default,{style:{fontSize:20,fontFamily:"National2",lineHeight:1.5,fontWeight:600,alignSelf:"center"},children:k()})]}),Object(w.jsxs)(j.default,{style:{flexDirection:"row",paddingBottom:20,alignItems:"center"},children:[Object(w.jsx)(j.default,{style:{flexGrow:1,minHeight:50},children:Object(w.jsx)(Y.default,{style:{width:"100%",minHeight:50,backgroundColor:"#d0d5db"},value:P,onChangeText:R,placeholder:"Enter promotion code"})}),Object(w.jsx)(b.default,{style:{borderWidth:1,borderColor:"gray",height:50,alignSelf:"center",flexDirection:"column",justifyContent:"center"},children:Object(w.jsx)(O.default,{style:{padding:5,fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600},children:"APPLY CODE"})})]}),Object(w.jsxs)(j.default,{style:{flexDirection:"row",paddingBottom:20},children:[Object(w.jsx)(O.default,{style:{flexGrow:1,fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600},children:"SUBTOTAL"}),Object(w.jsx)(O.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,color:"red"},children:k()})]}),Object(w.jsxs)(j.default,{style:{position:"fixed",bottom:0,width:"100%"},children:[Object(w.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[Object(w.jsx)(b.default,{onPress:function(){n.navigate("Main")},style:{width:"49%",paddingBottom:15,paddingTop:15,borderRadius:8,backgroundColor:"rgb(182, 0, 34)"},children:Object(w.jsx)(O.default,{style:{color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center"},children:"CONTINUE ORDERING"})}),Object(w.jsx)(b.default,{onPress:E,style:{width:"49%",paddingBottom:15,paddingTop:15,borderRadius:8,backgroundColor:"rgb(182, 0, 34)"},children:Object(w.jsx)(O.default,{style:{color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center"},children:"SEND ORDER"})})]}),Object(w.jsx)(b.default,{onPress:function(){o(!0)},children:Object(w.jsx)(O.default,{style:{backgroundColor:"green",color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:15,paddingTop:15,borderRadius:8,marginTop:5},children:"ORDER HISTORY"})})]})]})]})},we=x.default.get("window").width,pe=(x.default.get("window").height,m.default.create({centeredView:{},modalView:{backgroundColor:"white",borderRadius:20,height:"100%",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:20},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{width:"95%",borderRadius:5,padding:10,elevation:2},buttonOpen:{backgroundColor:"#F194FF"},buttonClose:{backgroundColor:"#2196F3"},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{flexDirection:"row",alignItems:"center",marginBottom:15,borderBottomColor:"gray",borderBottomWidth:1,width:"100%",paddingTop:20,paddingLeft:7,paddingRight:7},modalInnerText:{fontWeight:"bold",fontSize:14,flexGrow:1,textAlign:"left"},modalChoosingText:{color:"green",fontWeight:"bold",fontSize:14}}),n(270));function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=Object(d.default)();t.default=function(){var e=Object(s.useState)(!0),t=l()(e,2),n=t[0],i=t[1],r=Object(s.useState)(!1),o=l()(r,2),c=o[0],d=o[1],f=Object(s.useState)([]),h=l()(f,2),j=h[0],g=h[1];return Object(s.useEffect)((function(){Object(y.default)("/api/v1/current_user/",{headers:{Authorization:"Token "+C}}).then((function(e){return e.data})).then((function(e){g(e),Object.keys(e).includes("detail")||i(!1)}))}),[C]),Object(w.jsx)(pe.default,{children:Object(w.jsx)(W,{children:Object(w.jsx)(a.default,{children:Object(w.jsxs)(Se.Navigator,{initialRouteName:"Main",screenOptions:function(e){var t=e.route;return{tabBarIcon:function(e){var n,i=e.focused,r=e.color,o=e.size,l=t.name;return"Main"===l?n=i?"home":"home-outline":"Cart"===l?n=i?"cart":"cart-outline":"Settings"===l&&(n=i?"settings":"settings-outline"),Object(w.jsx)(u.default,{name:n,size:o,color:r})},headerShown:!1,headerStyle:{backgroundColor:"papayawhip"},labelStyle:{paddingBottom:10,fontSize:10},style:{padding:10,height:70}}},children:[Object(w.jsx)(Se.Screen,{name:"Main",component:ae}),Object(w.jsx)(Se.Screen,{name:"Cart",children:function(e){return Object(w.jsx)(ye,Ce(Ce({},e),{},{modalVisible:n,setModalVisible:i,showHistory:c,setShowHistory:d}))},initialParams:{dish:void 0}}),Object(w.jsx)(Se.Screen,{name:"Settings",children:function(e){return Object(w.jsx)(ue,Ce(Ce({},e),{},{modalVisible:n,setModalVisible:i,user:j,setUser:g,showHistory:c,setShowHistory:d}))}})]})})})})}},197:function(e,t,n){e.exports=n(250)}},[[197,1,2]]]);
//# sourceMappingURL=app.d465dc8b.chunk.js.map